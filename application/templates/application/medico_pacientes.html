{% load static %}

<link rel="stylesheet" type="text/css" href="{% static 'css/medico_pacientes.css' %}">

<div class="cartao">
    <div class="corpo-cartao">
        {% if pacientes %}
        <div class="grade-pacientes">
            {% for paciente in pacientes %}
            <div class="cartao-paciente">
                <h2 class="nome-paciente">{{ paciente.nome_completo }}</h2>
                <button class="botao-dropdown" onclick="toggleDropdown('{{ paciente.id }}')">
                    Ver mais
                </button>
                <div class="dropdown-info" id="dropdown-{{ paciente.id }}">
                    <p><strong>CPF:</strong> {{ paciente.cpf }}</p>
                    <p><strong>Data de Nascimento:</strong> {{ paciente.data_nascimento|date:"d/m/Y" }}</p>
                    <p><strong>Médico Responsável:</strong> {{ paciente.medico_responsavel.usuario.nome_completo }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <p class="sem-resultados">Nenhum paciente cadastrado</p>
        {% endif %}
    </div>
</div>

<script>
    function toggleDropdown(id) {
        var dropdown = document.getElementById("dropdown-" + id);
        dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
    }
</script>
